<html>
<body>
 
<head>
 <link rel="stylesheet" href="mystyle.css">
</head>
 
 <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
 <script>
 check = function(textbox) { 
  document.body.style.backgroundColor = "red";
 }
  
 JavaScriptFetch = function() {
var script = document.createElement('script');
script.src = "https://api.flickr.com/services/feeds/photos_public.gne?format=json&tags=" + document.getElementById("location").value;;
document.querySelector('head').appendChild(script);
}
  
jsonFlickrFeed = function(data) {
var image = "";
data.items.forEach(function (element) {
image += "<img src=\"" + element.media.m + "\"/>";
});
document.getElementById("outputDiv").innerHTML = image;
}
  
 </script>
     <script type="text/javascript">
        $(document).ready(function () {
            $("#reset").click(function (e) {
                location.reload();
            });

            $("#submit").click(function (e) {
                $("#outputDiv").html("");

              
                var flickerAPI = "https://api.flickr.com/services/feeds/photos_public.gne?format=json&tags=" + $("#search").val();
                $.ajax({
                    url: flickerAPI,
                    dataType: "jsonp", // jsonp
                    jsonpCallback: 'jsonFlickrFeed', // add this property
                    success: function (result, status, xhr) {
                        $.each(result.items, function (i, item) {
                            $("<img>").attr("src", item.media.m).appendTo("#outputDiv");
                            if (i === 5) {
                                return false;
                            }
                        });
                    },
                    error: function (xhr, status, error) {
                        console.log(xhr)
                        $("#outputDiv").html("Result: " + status + " " + error + " " + xhr.status + " " + xhr.statusText)
                    }
                });*/
                


                var flickerAPI = "http://api.flickr.com/services/feeds/photos_public.gne?jsoncallback=?";
                $.getJSON(flickerAPI, {
                    tags: $("#search").val(),
                    tagmode: "any",
                    format: "json"
                }).done(function (result, status, xhr) {
                    $.each(result.items, function (i, item) {
                        $("<img>").attr("src", item.media.m).appendTo("#outputDiv");
                        if (i === 5) {
                            return false;
                        }
                    });
                }).fail(function (xhr, status, error) {
                    alert("Result: " + status + " " + error + " " + xhr.status + " " + xhr.statusText)
                });
                
            });
        });
    </script>
 
 <center> 
  <div class="a">TravelBuddy</div>
  <p> This App is built to help you see if you wanna travel to a place!  </p>
  <p>
   <label for="location">Where would you like to go?</label>
   <input id="location" type="text" onchange="check(this)" />
   <button id="submit" onclick="JavaScriptFetch()">Submit</button>
   
  
 

       
  </body>
</html>

