<html>
<head>
    <link rel="stylesheet" href="mystyle.css">
    </head>
    
 <body bgcolor = "F770F2">
 
     <img src = "https://www.incimages.com/uploaded_files/image/970x450/getty_583734066_335273.jpg" height = 100 width = 200>
    <center><alpha> Welcome to TravelBuddy </alpha> - powered by Flickr <img src = "https://cdn0.tnwcdn.com/wp-content/blogs.dir/1/files/2017/10/flickr-796x429.jpg" height = 30 width = 50>
        <br></br>
        Google a location (ideally) and see what people have been posting!  
     <br></br>
    <beta>Our searches focus more on food & travel related pictures so you can have a better idea of what to do or what to expect upon traveling</beta>
    
    <div class="container">
        <div id="content">
            <input id="search" type="text" placeholder="search text" />
            <button id="submit" onclick="fetchData()">See Photos</button>
            <br></br>
            <br></br>
            <div id="line"></div>
            <div id="photos"></div>
        </div>
    </div>
</center>
</body>
        
   
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script>
        // IP Address 
        function getIP() { }
            
            
           // gets the image urls
        function fetchData() {
            var script = document.createElement('script');
            // flickr public api 
            script.src = "https://api.flickr.com/services/feeds/photos_public.gne?format=json&tags=travel,food," + document.getElementById("search").value;;
            
            document.querySelector('head').appendChild(script);
            document.getElementById('line').innerHTML = "RESULTS:"
        }
        // to get the photos 
        function jsonFlickrFeed(data) {
            var image = " ";
            data.items.forEach(function (element) {
                image += "<img src=\"" + element.media.m + "\"/>";
            });
            // adding the images 
            document.getElementById("photos").innerHTML = image;
            
        }
    
    </script> 
    
    
    <script type="text/javascript">
        $(document).ready(function () {

            $("#submit").click(function (e) {
                // pop up message 
                $("#photos").html("Loading"); 
                  
                  
            //second api here using ajax ( compares our ip address to get location and compare it to search query ) 
            $.ajax({
                 url: 'http://api.ipstack.com/107.77.207.40?access_key=69bb7972f47536b1009160ab3dcd99bc',   
                 dataType: 'jsonp',
                 success: function(json) {

                // output the "capital" object inside "location"
                 alert("So you're from " + json.region_name + ", Seems like a long Journey!");
        
                }
         });
        });
        });
    </script>

    
</html>
